DATA SEGMENT
	BUF DB 100 DUP(0)
	LENBUF EQU $-BUF
DATA ENDS

STK SEGMENT STACK
	DB 100 DUP(0)
	TOS LABEL WORD
STK ENDS

CODE SEGMENT
	ASSUME CS:CODE, DS:DATA, SS:STK

READ PROC
		LEA SI, BUF
		MOV BYTE PTR [SI], LENBUF-2
		
		MOV AH, 0AH
		LEA DX, BUF
		INT 21H
READ ENDP

CONVERT PROC
		MOV CL, [SI+1]
		MOV CH, 00H
		MOV AH,00H
		
	L:	MOV AL, [BUF+SI+2]
		CMP AL, 'A'
		JC N
		CMP AL, 'Z'+1
		JNC LW
		ADD AL, 20H
		MOV [BUF+SI+2], AL
		JMP N
	LW: CMP AL, 'a'
		JC N
		CMP AL, 'z'+1
		JNC N
		SUB AL, 20H
		MOV [BUF+SI+2], AL
		JMP N
	N:	INC SI
		LOOP L
CONVERT ENDP

WRITE PROC
		LEA SI, BUF
		MOV CL, [SI+1]
		MOV CH, 00H
		MOV AH, 40H
		MOV AL, 00H
		MOV BX, 0001H
		LEA DX, BUF+2
		INT 21H
WRITE ENDP

START:
		MOV AX, DATA
		MOV DS, AX
		MOV AX, STK
		MOV SS, AX
		LEA SP, TOS
		CALL READ
		CALL CONVERT
		CALL WRITE
		MOV AH, 4CH
		INT 21H
		
CODE ENDS
	END START